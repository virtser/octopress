
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Vagrant and Ansible - David Virtser</title>
	<meta name="author" content="David Virtser">

	
	<meta name="description" content="Jun 26th, 2014 Vagrant and Ansible I spend few hours recently to learn about Vagrant and Ansible to understand better how these tools work together &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="http://feeds.feedburner.com/poisonsblog" rel="alternate" title="David Virtser" type="application/atom+xml">
	
	<link rel="canonical" href="http://virtser.net/2014/06/26/vagrant-and-ansible/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<a href='/'><img src='http://www.gravatar.com/avatar/" + MD5("poison77@gmail.com") + "?s=160' alt='David Virtser' style='width: 160px;' /></a>");
	</script>
</div>
<h1><a href="/">David Virtser</a></h1>
<p class="subtitle"></p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/about">About me</a></li>
  <li><a href="/projects">Projects</a></li>
  <li><a href="/archives">Archives</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		<a class="twitter" href="http://twitter.com/poison_dv" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/virtser" title="GitHub">GitHub</a>
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/virtser">LinkedIn</a>
		
		
		
		
		
		<a class="rss" href="http://feeds.feedburner.com/poisonsblog" title="RSS">RSS</a>
		
	</div>
</nav>

</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2014-06-26T16:08:00+03:00" data-updated="true" itemprop="datePublished">Jun 26<span>th</span>, 2014</time></div>
	</div>
	<h1 class="title" itemprop="name">Vagrant and Ansible</h1>
	<div class="entry-content" itemprop="articleBody"><p>I spend few hours recently to learn about <a href="http://vagrantup.com">Vagrant</a> and <a href="http://www.ansible.com/home">Ansible</a> to understand better how these tools work together. I&#8217;m really excited of potential hiding behind them. Unfortunately not many developers/companies know these tools and using them. So I wanted to share with you what I learned and hope it will help you to discover a concept called &#8220;Infrastrucutre as a code&#8221; if you didn&#8217;t know about it before.</p>

<h2>Vagrant</h2>

<p><img style="float: right" src="http://upload.wikimedia.org/wikipedia/commons/8/87/Vagrant.png" width="100px" hspace="5"/></p>

<p>Basically Vagrant provides you with functionality to create, provision and configure your own isolated development environment. It can be a single machine or number of machines connected in private network. Depends on your application infrastructure. All it does is creates on your laptop a defined set of virtual machines using (by default) VirtualBox. These machines actually defines your development environment.</p>

<p>Vagrant saves its configuration in <em>Vagrantfile</em> which is stored as part of your projects root. It should be also saved in source control as part of your project as it defines how your environment look like and how to create it from scratch if needed. Click <a href="https://github.com/virtser/vagrantansible/blob/master/Vagrantfile">here</a> to see how a typical Vagrant file looks like.</p>

<p><em>Vagrantfile</em> includes:</p>

<ul>
<li>Definition of your VMs (which boxes: Linux, Windows, etc&#8230;)</li>
<li>Network settings (port forwarding, private network, etc&#8230;)</li>
<li>Provisioning (how to setup a VM after creation from clean box)</li>
<li>and more other but less useful stuff&#8230;</li>
</ul>


<p>I won&#8217;t dive into more details. I hope you got the point and if you want to read more about why using Vagrant and what does it provide, you can go <a href="http://docs.vagrantup.com/v2/why-vagrant/index.html">here</a>.</p>

<h2>Ansible</h2>

<p><img style="float: right" src="http://bundles.kunstmaan.be/uploads/media/52f2178e8b342.png" width="100px" hspace="5"/> Ansible is a lightweight, simpler and easier to on board alternative for widely known Chef and Puppet configuration management tools. Like their big brothers its mission is to allow smart provisioning, deployment and configuration management of servers.</p>

<p>Ansible uses a <em>hosts</em> file to define how your environment look like. You can create groups of identical servers as well. Groups are good to define a set of similar machines for later mass provisioning. Example of such file can be found <a href="https://github.com/virtser/vagrantansible/blob/master/Ansible/hosts">here</a>.</p>

<p>Ansible saves its configuration in YAML files called &#8220;playbooks&#8221; which actually defines how to provision server or number of servers. Example of such file can be found <a href="https://github.com/virtser/vagrantansible/blob/master/Ansible/front.yml">here</a>.</p>

<p>Same as with Vagrant, you save these YAML files along side with your project, because they define how to build your environment.</p>

<p>You can read more about why using Ansible and what does it provide  <a href="http://www.ansible.com/how-ansible-works">here</a>.</p>

<h2>Vagrant and Ansible integration</h2>

<p>Vagrant as part of its configuration knows to call Ansible playbooks to provision the VMs that where created. It also automatically creates a hosts file to define the environment for Ansible and to make sure you will be able to provision the Vagrant machines from your laptop.</p>

<p>I don&#8217;t know if you heard the term &#8220;Infrastructure as a code&#8221;, but these tools actually does exactly that. Which means that you are writing code to define your infrastructure, saving it as part of source control and that you will be able to re-create it at any given time. Whenever it is in development, testing or production environments. That gives you great power to keep your environment infrastructure consistent, testable and repeatable!</p>

<p>Hope it was useful and made you think about how you should work. :)</p>

<p>I created the following example for you in GitHub if you want to play with it a little: <a href="https://github.com/virtser/vagrantansible">https://github.com/virtser/vagrantansible</a></p>
</div>

</article>

	


<section id="comment">
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner"></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'virtserdavid';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://virtser.net/2014/06/26/vagrant-and-ansible/';
        var disqus_url = 'http://virtser.net/2014/06/26/vagrant-and-ansible/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-29241929-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



		</div>
	</div>
</body>
</html>
